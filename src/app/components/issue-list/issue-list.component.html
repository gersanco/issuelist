<div *ngIf="!loading; else load">
  <div *ngIf="!error; else err">
    <div *ngIf="issueList">
      <h3>Issues: {{totalIssues}}</h3>
      <div class="pagination">
        <label *ngFor="let pg of issuesPag" (click)="setPage(pg)">
          <span *ngIf="pg.pag == pages; else other">
            <span active #active>{{pg.pag}}</span>
          </span>
          <ng-template #other><span>{{pg.pag}}</span></ng-template>
        </label>
      </div>
      <ul>
        <li *ngFor="let issue of issueList" (click)="openIssue(issue)">
          <div class="mdl-card mdl-shadow--4dp">
            <div class="mdl-card__title mdl-card--expand">
              <label class="title">{{issue.title}}</label>
            </div>
            <div class="mdl-card__supporting-text cardText">
              <span>{{issue.state}}</span>
              <p>{{issue.user.login}} <span>{{issue.updated_at}}</span></p>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<ng-template #err>
  <div class="error">
    <h3>{{error.message}}</h3>
  </div>
</ng-template>

<ng-template #load>
  <div class="mdl-spinner mdl-js-spinner is-active loading"></div>
</ng-template>
